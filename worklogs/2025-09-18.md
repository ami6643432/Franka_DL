# Work Log â€” 2025-09-18

## Changes & Progress
- Updated `franka_traj.py` to prefer Isaac Lab 4.5 APIs, lazily import modules, and run IK entirely on GPU when available.
- Brought `simulate_franka_trajectory.py` in line with Isaac Lab 4.5: scene setup via `SimulationCfg`, support for GPU playback, torque control option, and clean headless handling.
- Added dome lighting and ensured simulation context resets properly.
- Introduced visualization helpers to render start and end waypoint frames (cleaned to show axes only).
- Incrementally debugged environment issues (missing modules, Kit warnings) and confirmed script works both headless and with GUI.

## Outstanding / Future Tasks
- Extend visualization to include all intermediate waypoint frames and a live end-effector frame once tested step-by-step.
- Integrate waypoint marker creation with optional toggles to avoid clutter in headless runs.
- Build hook for streaming joint targets into the custom torque controller / RL environment.
- Add cleanup logic so repeated runs remove previous prims (e.g., deleting `/World/Franka` before respawning) to avoid warnings.
- Optional: expose CLI knobs for waypoint visualization density and frame scale.

## Notes
- When running side-by-side Kit processes, pass unique KVDB paths via `--kit-args="--/app/kvdb/path=/tmp/isaaclab_kvdb_runX"` or set `OMNI_APP_KVDB_PATH`.
- GUI mode requires omitting `--headless`; the script no longer forces headless mode.

